Проект plgControlCyclogram
Прочти юниты uDACFrm, uDacDevice, uSoundCardDac.
Код пишем на codegear2010
Когда пишешь код комментируй что для чего
Прежде чем внести изменения расскажи план действий и запроси подтверждение

Мне нужны следующие изменения:
- uDacDevice при запуске в режиме конечного воспроизведения буферов должен запускать поток который вызывает
callback функцию для генерации данных;
- в нашем примере callback функция это процедура формы в uDacFrm. Она генерит блоки для SweepSinus.
- сейчас генерация данных идет в момент когда заказнчивается восрпоизведение предыдущего буфера (DacBufferEndHandler). Это плохая идея - если генерация данных будет длительная возможны паузы при склейке блоков. Я хочу чтоб генерация блоков была в своем потоке, а DacBufferEndHandler лишь давал знать когда пора подложить новый блок в очередь обработки 
- логика работы функции такова: она считает текущее время, чтобы определить пора ли класть новый блок; На основании текущей частоты расчитывается скорость изменения фазы. На основании разности начальной и конечной частоты для sweepsin вычисляется ускорение изменения фазы.
Для каждой вычисляемой точки sweepsin идет расчет фазы по уравнения равноускоренного движения. 


plgControlCyclogram

пути
`recorder/plgControlCyclogram/units/uDacDevice.pas`
'recorder/plgControlCyclogram/units/uSoundCardDac.pas
`recorder/plgControlCyclogram/forms/uDACFrm.pas