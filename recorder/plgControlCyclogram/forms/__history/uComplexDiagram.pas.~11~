unit uComplexDiagram;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ExtCtrls, ComCtrls, uBtnListView;

type
  TComplexDiagramFrm = class(TForm)
    SignalsLV: TBtnListView;
  private
    { Private declarations }
  public
    { Public declarations }
  end;

 ISpmFrm = class(cRecBasicIFrm)
  public
    function doRepaint: boolean; override;
    function doGetName: LPCSTR; override;
    procedure doClose; override;
    function doCreateFrm: TRecFrm; override;
  end;

  cComplexDiagramFact = class(cRecBasicFactory)
  public
    eList:ceventlist;
    initevents:boolean;
  private
    factivechart:tSpmChart;
    m_counter: integer;
  protected
    procedure doDestroyForms; override;
    procedure CreateEvents;
    procedure DestroyEvents;
    procedure doChangeRState(Sender: TObject);
    procedure doChangeAlgProps(Sender: TObject);
    procedure doStart;
    procedure SetActiveChart(c:TSpmChart);
    function GetActiveChart:TSpmChart;
  public
    procedure doAfterLoad;override;

    procedure doCursorMove(Sender: TObject);
  public
    property actchart:TSpmChart read GetActiveChart write SetActiveChart;
    constructor create;
    destructor destroy; override;
    function doCreateForm: cRecBasicIFrm; override;
    procedure doSetDefSize(var pSize: SIZE); override;
  end;

var
  g_ComplexDiagramFact:cComplexDiagramFact;

implementation

{$R *.dfm}

end.
