// ћатрицы костей (всего 32 кости)
// (матрицы будут передаватьс€ из программы
// на Delphi).
// ----------------------------------------
uniform mat4 boneMat[32];

// »ндекс кости, к которой прикреплена вершина
// (индекс будет передаватьс€ дл€ каждой вершины
// через glBegin/glEnd).
// ---------------------------------------------
attribute float boneIndex;


void main(void)
{

// ћы знаем координаты вершины gl_Vertex, посланной в видеокарту
// ќсталось домножить эту вершину на матрицу кости boneMat[i]
// i - это номер кости, к которой прикреплена данна€ вершина
//
// ( boneMat[int(boneIndex)] * gl_Vertex)
//
// ѕолученный результат домножаем на матрицу 
// gl_ModelViewProjectionMatrix, котора€ даЄт учЄт произведЄнных
// в нашей программе gluLookAt, gluPerspective, glTranlsatef и т.п.
// ----------------------------------------------------------------

gl_Position = gl_ModelViewProjectionMatrix *  ( boneMat[int(boneIndex)] * gl_Vertex);

// ÷вет и текстурные координаты оставл€ем без изменений:
// -----------------------------------------------------
gl_FrontColor = gl_Color;
gl_TexCoord[0] = gl_MultiTexCoord0;

}
